<!DOCTYPE html>
<html lang="en">
    <!--Head-->
    <%- include('../partials/head') %>
<body>
    <section class="register-container">
        <!--Header-->
        <%- include('../partials/header') %>
        <!--Modal de login-->
        <%- include('../partials/loginModal') %>       
        <!--NavBar lateral-->
        <%- include('../partials/navBar') %> 
        <main class="page-container" id="page-container">
            <!--Barra de busqueda-->
            <%- include('../partials/searchBar') %>
            <section class="register-section" id="register-section">
                <h4 class="register-title mt-2" id="register-title">Registrate en pocos pasos!</h4>
                    <% if(typeof(errors) != 'undefined'){%>
                        <div>
                            <h2 class="text-danger text-center">Hubo un problema con la registración!</h2>
                        </div>
                        <%} else {%>
                    <div class="d-none d-md-block banner-register" id="banner-register">
                        <h5>Tu próxima moto está cerca</h5>
                    </div> 
                    <%}%>          
                   <!-- aca atrapo los errores del lado del front -->
                   <div>
                    <ul id="errores"></ul>
                </div>
             <% if (typeof(errores)!='undefined'){ %> 
                 <ul class="alert alert-danger ">
                     <% errores.forEach(error =>{ %>
                         <li><%= error.msg %> </li>
                     <%})%> 
                 </ul>            
             <% } %>          
                <div class="div-form d-flex flex-column align-items-center" id="div-form">
                    <form class="rounded" action="/register" method="POST" enctype="multipart/form-data">
                        <div class="text-center">
                            <label for="avatar">Cargá tu avatar</label>
                            <% if(typeof(errors) != 'undefined' && errors.avatar){%>
                                <div class="text-danger text-center">
                                  <%= errors.avatar.msg %>
                                </div>
                            <%}%> 
                        </div>
                        <div class="text-center">
                            <input class="rounded-pill text-center border-0 mb-2" type="file" name="avatar" id="avatar-input">
                        </div>
                        <div class="text-center">
                            <label for="firstName">Nombre</label> 
                            <% if(typeof(errors) != 'undefined' && errors.firstName){%>
                                <div class="text-danger text-center">
                                  <%= errors.firstName.msg %>
                                </div>
                             <%}%>
                        </div>
                        <div class="text-center">
                            <input class="rounded-pill text-center border-0 mb-2" type="text" name="firstName" id="firstName-input" value="<%= typeof old != 'undefined' ? old.firstName : '' %>">
                        </div>
                        <div class="text-center">
                            <label for="lastName">Apellido</label>
                            <% if(typeof(errors) != 'undefined' && errors.lastName){%>
                                <div class="text-danger text-center">
                                  <%= errors.lastName.msg %>
                                </div>
                             <%}%>
                        </div>
                        <div class="text-center">
                            <input class="rounded-pill text-center border-0 mb-2 " type="text" name="lastName" id="lastName-input"value="<%= typeof old != 'undefined' ? old.lastName : '' %>">
                        </div>
                        <div class="text-center">
                            <label for="email">Email</label>
                            <% if(typeof(errors) != 'undefined' && errors.email){%>
                                <div class="text-danger text-center">
                                  <%= errors.email.msg %>
                                </div>
                            <%}%>
                        </div>
                        <div class="text-center">
                            <input class="rounded-pill text-center border-0 mb-2" type="email" name="email" id="email-input"value="<%= typeof old != 'undefined' ? old.email : '' %>">
                        </div>                  
                        <div class="text-center">
                            <label for="password">Contraseña</label>
                            <% if(typeof(errors) != 'undefined' && errors.password){%>
                                <div class="text-danger text-center">
                                  <%= errors.password.msg %>
                                </div>
                             <%}%>
                        </div>
                        <div class="text-center">
                            <input class="rounded-pill text-center border-0 mb-2" type="password" name="password" id="password-input">
                        </div>
                        <div class="text-center">
                            <label for="repassword">Confirma contraseña</label>
                            <% if(typeof(errors) != 'undefined' && errors.confirmPassword){%>
                                <div class="text-danger text-center">
                                  <%= errors.confirmPassword.msg %>
                                </div>
                             <%}%>
                        </div>
                        <div class="text-center">
                            <input class="rounded-pill text-center border-0 mb-2" type="password" name="confirmPassword" id="confirmPassword-input">
                        </div>
                        <div class="text-center mt-2">
                            <button class="modal-login-button rounded-pill border-0" type="submit">Registrate</button>
                        </div>
                    </form>
                </div>
                <div class="beneficios-div mt-2" id="beneficios-div">
                    <h5>Disfrutá de nuestros beneficios</h5>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, tenetur nesciunt eligendi praesentium recusandae voluptatibus itaque. Itaque dolores mollitia dicta, aliquid ea blanditiis eos vitae sint ex ab molestiae, quae, voluptatibus voluptas nisi. Rem, similique? Repellendus, atque itaque assumenda fuga tempore deserunt veritatis rem reiciendis officia minima a alias porro ut nulla, totam vero vel qui voluptate quis aliquam commodi nostrum blanditiis odio. Molestiae provident quis totam et sit molestias facilis inventore blanditiis alias nemo aliquam, impedit magni saepe laborum ipsam, illum recusandae non iure iste perspiciatis, modi culpa fuga rem sint? Optio commodi suscipit eius ducimus eaque, quaerat ex.</p>
                </div>
            </section>
        </main>
        <!--Footer-->
        <%- include('../partials/footer') %>
    </section>
    <!--Script de boostrap-->
    <%- include('../partials/scripts') %>
    <script src="/js/register.js"></script>
</body>
</html>